(()=>{"use strict";var e,t,o,n,r={51597:(e,t,o)=>{o(18471);var n=o(89038),r=o(10301);(0,n.z)(((e,t)=>{const o=(0,r.jj)(t).length;if(o>0)return e.find((e=>(0,r.jV)(e.selectors,t).length===o))}),(e=>e?[e]:[])),o(82796),o(20446),o(84627)},81080:(e,t,o)=>{var n=o(6891),r=o(70634),a=o(11016),i=o(64192),l=o(99208);o(27223),o.g.__VISUAL_CONFIG__={},(0,n.Jj)(class{async compile(e){const{page:t,project:n,globalBlocks:s,needToCompile:d,config:c}=JSON.parse(e),u=(0,i.R)(c);u&&importScripts(u);const p=(0,l.D)(c);p&&importScripts(p);const f=(0,r.Ee)(o.g.__VISUAL_CONFIG__,c);a.ZP.init(f);const{bootstrap:h}=await Promise.all([o.e(338),o.e(240),o.e(913),o.e(244),o.e(258)]).then(o.bind(o,7148));return await h({config:f,page:t,project:n,needToCompile:d,globalBlocks:s})}})},82796:(e,t,o)=>{o.d(t,{U:()=>c});var n=o(81118),r=o(96590),a=o(27573),i=o(29280),l=o(84627),s=o(12920);const d=e=>{let t=e=>e;const o=(0,s.J)(e);(0,l.yd)(e)&&o&&(t=e=>`.${o} ${e}`);const n=(0,i.kK)((0,i.lk)());return`${(0,a.Ah)((0,a.hf)(),t)}${(0,a.WR)((0,a.hf)())}${n}`},c=e=>{const t={name:"projectPalette",score:r.VS,content:{type:"inline",content:d(e),attr:{class:"brz-style brz-project__style-palette"}},pro:!1},o=(e=>{const t=(0,i.lk)({includeDeleted:!0}),o=function(e){const t=new Set;return e.dynamicContent?.groups?.richText&&Object.keys(i.eZ).forEach((e=>{t.add(e)})),[...t]}(e),n=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.reduce(((e,o)=>(e[o]=t,e)),{})}(o),r=t.filter((e=>n[e.id]));if(0!==r.length)return(0,i.VM)(r)})(e);return o?[t,{name:(0,n.JU)(o),score:r.VS,content:{type:"inline",content:o,attr:{class:"brz-style brz-project__style-fonts"}},pro:!1}]:[t]}},96590:(e,t,o)=>{o.d(t,{Rb:()=>n,VS:()=>l,ap:()=>i,e5:()=>r,ph:()=>a,qI:()=>s});const n=10,r=20,a=30,i=40,l=50,s=60},36509:(e,t,o)=>{var n=o(11016),r=o(2480),a=o(27573),i=o(73043),l=o(18471),s=o(84627),d=o(36501),c=o(3058),u=o(28158);o.g.Brizy={config:n.ZP,addFilter:i.K,applyFilter:i.R,t:l.t,utils:{stateMode:{NORMAL:u.yu,HOVER:u.$T},isPopup:s.CO,isStory:s.zK,getDynamicContentOption:c.lZ,getOptionColorHexByPalette:c.bi,hexToRgba:a.a7,defaultValueValue:d.BA,defaultValueKey:d.uD,DCTypes:r.n,NORMAL:u.yu,HOVER:u.$T}}},11016:(e,t,o)=>{o.d(t,{P4:()=>r.P4,ZP:()=>i});var n=o(33979),r=o(57872);let a={};const i={init(e){a=e},load(e){a=(0,n.Z)(a,e)},get:e=>a[e],getAll:()=>a}},2480:(e,t,o)=>{var n;o.d(t,{n:()=>n}),function(e){e.image="image",e.link="link",e.richText="richText",e.reference="reference",e.multiReference="multiReference"}(n||(n={}))},70481:(e,t,o)=>{o.d(t,{Ne:()=>n,Pq:()=>r,if:()=>a});const n=e=>"customers"===e.provider,r=e=>"ecwid"===e?.type,a=e=>"shopify"===e?.type},22402:(e,t,o)=>{o.d(t,{C:()=>s,CW:()=>l,GI:()=>r,K5:()=>i,LI:()=>a,eQ:()=>d,wr:()=>c});var n=o(11016);const r=e=>"cms"===e.platform,a=e=>"shopify"===e.platform,i=e=>!1,l=e=>"__type"in e&&"ecwid-product"===e.__type,s=e=>"__type"in e&&"ecwid-product-category"===e.__type,d=e=>"collectionType"in e,c=e=>{const t=n.ZP.getAll();return i(t)&&a(t)&&!("rules"in e)}},81629:(e,t,o)=>{o.d(t,{P:()=>n});const n=e=>!0},57872:(e,t,o)=>{o.d(t,{K5:()=>n.K5,P4:()=>r.P});var n=o(22402),r=o(81629)},69562:(e,t,o)=>{o.d(t,{Z:()=>d});var n=o(73043);const r={};let a,i={},l={};const s={},d={registerComponent(e){r[e.componentId]=e},getComponents:()=>r,getComponent:e=>r[e]||null,registerNotFoundComponent(e){a=e},getNotFoundComponent(){if(!a)throw new Error("NotFoundComponent not registered");return a},registerShortcode(e){i=e},registerShopifyShortcode(e){l=e},getShortcodes:()=>(0,n.R)("getShortcodes",i),getShopifyShortcodes:()=>(0,n.R)("getShopifyShortcodes",l),registerThirdPartyElement(e){const t=function(e){const t=e?.id;return!!t&&!(i.customComponent??[]).some((e=>e.component.id===t))}(e);if(!t)throw new Error("Invalid third party element config");const{category:o}=e,n=(o??"customComponent").toUpperCase();i[n]||(i[n]=[]);const r={pro:!1,keywords:e?.keywords??"",component:{id:e.id,title:e.title??"Component",icon:e.icon??"nc-wp-shortcode-element",resolve:{type:"Wrapper",value:{_styles:["wrapper","wrapper--toolbar"],items:[{type:"ThirdParty",value:{thirdPartyId:e.id}}]}}}};i[n].push(r);const{component:a,...l}=e;s[e.id]={component:a,config:l}},getThirdPartyElements:()=>s}},99563:(e,t,o)=>{o.d(t,{K:()=>r,ZB:()=>a,ju:()=>n});const n="HYDRATE",r="UPDATE_GB_RULES";function a(e){let{project:t,projectStatus:o,fonts:r,page:a,globalBlocks:i,authorized:l,syncAllowed:s}=e;return{type:n,payload:{project:t,projectStatus:o,fonts:r,page:a,globalBlocks:i,authorized:l,syncAllowed:s}}}},78338:(e,t,o)=>{function n(e){let{uid:t,data:o,title:n,tags:r,meta:a}=e;return{type:"UPDATE_GLOBAL_BLOCK",payload:{uid:t,data:o,title:n,tags:r},meta:{is_autosave:1,...a}}}function r(e,t){return{type:"UPDATE_UI",key:e,value:t}}function a(e){return{type:"ADD_BLOCK",payload:e,meta:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{insertIndex:0}}}function i(e){return{type:"ADD_GLOBAL_BLOCK",payload:e,meta:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{insertIndex:0}}}function l(e){return{type:"ADD_GLOBAL_POPUP",payload:e,meta:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{insertIndex:0}}}function s(e){let{index:t,id:o}=e;return{type:u.REMOVE_BLOCK,payload:{index:t,id:o}}}function d(e){return r("deviceMode",e)}function c(e){return r("activeElement",e)}var u;o.d(t,{FJ:()=>h,G7:()=>p,MF:()=>u,N$:()=>s,TJ:()=>n,U6:()=>a,Uw:()=>_,Wx:()=>i,f8:()=>l,iS:()=>d,mJ:()=>c,yF:()=>f,yg:()=>r}),o(70634),o(10301),o(64362),function(e){e.ADD_NEW_GLOBAL_STYLE="ADD_NEW_GLOBAL_STYLE",e.EDIT_GLOBAL_STYLE_NAME="EDIT_GLOBAL_STYLE_NAME",e.REMOVE_GLOBAL_STYLE="REMOVE_GLOBAL_STYLE",e.IMPORT_KIT="IMPORT_KIT",e.IMPORT_STORY="IMPORT_STORY",e.IMPORT_TEMPLATE="IMPORT_TEMPLATE",e.UPDATE_CURRENT_STYLE_ID="UPDATE_CURRENT_STYLE_ID",e.UPDATE_CURRENT_STYLE="UPDATE_CURRENT_STYLE",e.COPY_ELEMENT="COPY_ELEMENT",e.UPDATE_ERROR="UPDATE_ERROR",e.UPDATE_SCREENSHOT="UPDATE_SCREENSHOT",e.REMOVE_BLOCK="REMOVE_BLOCK",e.REMOVE_BLOCKS="REMOVE_BLOCKS"}(u||(u={}));const p=function(e){return{meta:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{insertIndex:0},type:u.IMPORT_TEMPLATE,payload:e}},f=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{insertIndex:0};return{type:u.IMPORT_STORY,payload:e,meta:t}};function h(e){return{type:u.COPY_ELEMENT,value:e}}function _(e){return{type:u.UPDATE_ERROR,payload:e}}},23979:(e,t,o)=>{o.d(t,{AV:()=>g,Ai:()=>y,DG:()=>R,Df:()=>S,I8:()=>U,JE:()=>F,Jw:()=>O,Ke:()=>P,N4:()=>w,P2:()=>G,QQ:()=>j,Rh:()=>p,Rn:()=>H,_E:()=>h,_p:()=>f,dB:()=>m,eH:()=>A,fv:()=>L,gP:()=>E,i6:()=>T,iI:()=>x,ky:()=>D,my:()=>b,o2:()=>C,oZ:()=>k,oc:()=>v,q_:()=>Y,ql:()=>_,qx:()=>I});var n=o(5188),r=o(45683),a=o(22402),i=o(67819),l=o(98543),s=o(17127),d=o(29280),c=o(84627),u=o(41627);const p=e=>e.project,f=e=>e.page,h=e=>e.blocksOrder||[],_=e=>e.blocksData||{},g=e=>e.globalBlocks||{},y=e=>e.fonts,b=e=>e.extraStyles||[],m=e=>e.extraFontStyles,O=e=>e.ui,S=e=>e.storeWasChanged||i.w.unchanged,T=e=>e.screenshots||{},E=e=>e.changedGBIds||{},P=e=>e.styles||[],x=e=>e.copiedElement,L=e=>e.currentStyleId,v=e=>e.currentStyle,A=e=>e.error,M=(0,r.P1)(f,(e=>e.data||{})),B=((0,r.P1)(p,(e=>e.data.disabledElements||[])),e=>!0!==e.deleted),C=(0,r.P1)(M,(e=>e.triggers||[])),R=((0,r.P1)(M,(e=>Number.isInteger(e.rulesAmount)?e.rulesAmount:null)),(0,r.P1)(O,(e=>e.deviceMode))),w=((0,r.P1)(O,(e=>e.showHiddenElements)),(0,r.P1)(y,(e=>Object.entries(e).reduce(((e,t)=>{const[o,{data:n=[]}={data:[]}]=t;return{...e,[`${o}`]:{data:n.filter(B)}}}),{})))),D=(0,r.P1)(p,(e=>e.data.font)),U=((0,r.P1)(O,(e=>e.currentRole)),(0,r.P1)(O,(e=>e.currentLanguage)),(0,r.P1)(O,(e=>e.leftSidebar)),(0,r.P1)(f,(e=>{if((0,a.wr)(e))return e.layout})),(0,r.P1)(h,g,((e,t)=>{const{top:o,bottom:n}=(0,s.mv)(e,t);return e.filter((e=>!o.includes(e)&&!n.includes(e)))}))),I=(0,r.P1)(g,_,((e,t)=>(0,u.m8)(Object.entries(e).map((e=>{const[o,r]=e,a=t[o];return a?[o,(0,n.Uy)(r,(e=>{e.data=a}))]:e}))))),F=(0,r.P1)(D,y,((e,t)=>{const o=(0,d.lU)(t,e);if(o)return o;const[[n,{data:r=[]}]]=Object.entries(t);return{group:n,font:r[0]}})),k=(0,r.P1)(U,g,_,((e,t,o)=>e.map((e=>t[e]?(0,l.Uw)({uid:e}):o[e])))),H=(0,r.P1)(h,g,_,((e,t,o)=>e.map((e=>t[e]?(0,l.Uw)({uid:e}):o[e])))),K=(0,r.P1)(h,I,_,f,((e,t,o,n)=>e.filter((e=>!t[e]?.data||(0,l.oL)(t[e],n))).map((e=>t[e]?.data?t[e].data:o[e])))),Y=(0,r.P1)(f,h,g,((e,t,o)=>t.reduce(((t,n)=>(o[n]&&(0,l.oL)(o[n],e)&&(t[n]=o[n]),t)),{}))),G=(0,r.P1)(M,H,((e,t)=>(0,n.Uy)(e,(e=>{e.items=t})))),j=((0,r.P1)(M,K,((e,t)=>(0,n.Uy)(e,(e=>{e.items=t})))),(0,r.P1)(G,I,((e,t)=>{return o=e,(0,c.dl)((e=>{if("GlobalBlock"===e.type){const{_id:o}=e.value;if(o&&t[o]&&t[o].data)return t[o].data}return e}),o);var o})));(0,r.P1)(j,(e=>e.items||[]))},64362:(e,t,o)=>{o.d(t,{ql:()=>c.ql,I8:()=>c.I8,_E:()=>c._E,gP:()=>c.gP,vi:()=>_,oc:()=>c.oc,ky:()=>c.ky,DG:()=>c.DG,eH:()=>c.eH,dB:()=>c.dB,Ai:()=>c.Ai,JE:()=>c.JE,qx:()=>c.qx,KK:()=>f,q_:()=>c.q_,$E:()=>p,AV:()=>c.AV,sA:()=>y,h$:()=>b,oZ:()=>c.oZ,P2:()=>c.P2,QQ:()=>c.QQ,_p:()=>c._p,g6:()=>g,Ml:()=>h,Df:()=>c.Df,o2:()=>c.o2,Jw:()=>c.Jw,N4:()=>c.N4});var n=o(5188),r=o(45683),a=o(10301);const i={"wrapper--iconText":{showToolbar:"on"},"wrapper--form2":{showToolbar:"on"},"wrapper--login":{showToolbar:"on"},"wrapper--reset--psw":{showToolbar:"on"},"wrapper--tabs":{showToolbar:"on"},"wrapper--timeline":{showToolbar:"on"},"wrapper--table":{showToolbar:"on"},"wrapper--shareButton":{showToolbar:"on"},"wrapper--protected-page":{showToolbar:"on"},"wrapper--accordion":{showToolbar:"on"},"wrapper--imageGallery":{showToolbar:"on"},"wrapper--menu":{showToolbar:"on"},"wrapper--video-playlist":{showToolbar:"on"},"wrapper--switcher":{showToolbar:"on"},"wrapper--filters":{showToolbar:"on"},"wrapper-ministryBrands":{showToolbar:"on"},"story-leadific":{width:90,elementPosition:"fixed",offsetX:5,offsetXSuffix:"%",offsetXAlignment:"left",offsetY:46,offsetYSuffix:"%",offsetYAlignment:"top"},"wrapper--spacer":{marginTop:0,marginBottom:0,tabletMarginTop:0,tabletMarginBottom:0,mobileMarginTop:0,mobileMarginBottom:0},"wrapper--carousel":{showToolbar:"on"},"wrapper--alert":{showToolbar:"on"},"wrapper--tableOfContents":{showToolbar:"on"},"wrapper--posts":{showToolbar:"on",paddingType:"ungrouped",paddingTop:10,paddingBottom:10,paddingLeft:15,paddingRight:15},"wrapper-ecwid-my-account":{showToolbar:"on"},"wrapper-ecwid-cart":{showToolbar:"on"},"wrapper-ecwid-product":{showToolbar:"on"},"wrapper-ecwid-products":{showToolbar:"on"},"column--carousel":{width:100},"richText--carousel":{text:"<p class='brz-tp-paragraph brz-text-lg-center'><span class='brz-cp-color7'>The point of using dummy text for your paragraph is that it has a more-or-less normal distribution of letters. making it look like readable English.</span></p>"},"hide-row-borders":{showToolbar:"off"},"padding-0":{padding:0},submit:{type:"submit"},search:{type:"search"},"image--dynamic":{imagePopulation:"{{brizy_dc_img_featured_image}}"},"button--dynamic":{linkExternalType:"linkPopulation",linkPopulation:"{{brizy_dc_url_post}}",text:"READ MORE",borderRadius:2,borderWidth:2,fontSize:11,paddingBottom:11,paddingLeft:26,paddingRL:26,paddingRight:26,paddingTB:11,paddingTop:11,size:"small",tempPaddingBottom:11,tempPaddingLeft:26,tempPaddingRL:26,tempPaddingRight:26,tempPaddingTB:11,tempPaddingTop:11,mobileBorderRadius:2,mobilePaddingBottom:11,mobilePaddingLeft:26,mobilePaddingRight:26,mobilePaddingTop:11,mobileSize:"small"},"richText-title--dynamic":{text:"<p class='brz-text-lg-center brz-tp-heading4'><span class='brz-cp-color2'><span class='text-population' data-population='brizy_dc_post_title'>#Post Title</span>&nbsp;</span></p>"},"richText-desc--dynamic":{text:"<p class='brz-text-lg-center brz-tp-paragraph'><span class='brz-cp-color7'><span class='text-population' data-population='brizy_dc_post_excerpt'>#Post Excerpt</span></span></p>"},"wrapper--facebookComments":{showToolbar:"on"},"story-map":{size:90,height:70,heightSuffix:"%",elementPosition:"fixed",offsetX:5,offsetXSuffix:"%",offsetXAlignment:"left",offsetY:31,offsetYSuffix:"%",offsetYAlignment:"top"},"story-progressBar":{width:90,elementPosition:"fixed",offsetX:5,offsetXSuffix:"%",offsetXAlignment:"left",offsetY:48,offsetYSuffix:"%",offsetYAlignment:"top"},"story-line":{width:90,elementPosition:"fixed",offsetX:5,offsetXSuffix:"%",offsetXAlignment:"left",offsetY:49,offsetYSuffix:"%",offsetYAlignment:"top"},"story-countdown2":{width:90,height:10,heightSuffix:"%",elementPosition:"fixed",offsetX:5,offsetXSuffix:"%",offsetXAlignment:"left",offsetY:45,offsetYSuffix:"%",offsetYAlignment:"top"},"story-counter":{width:50,elementPosition:"fixed",offsetX:39,offsetXSuffix:"%",offsetXAlignment:"left",offsetY:45,offsetYSuffix:"%",offsetYAlignment:"top"},"story-embedCode":{width:90,elementPosition:"fixed",offsetX:5,offsetXSuffix:"%",offsetXAlignment:"left",offsetY:33,offsetYSuffix:"%",offsetYAlignment:"top"},"story-image":{width:90,height:70,elementPosition:"fixed",offsetX:5,offsetXSuffix:"%",offsetXAlignment:"left",offsetY:36,offsetYSuffix:"%",offsetYAlignment:"top"},"story-starRating":{elementPosition:"fixed",offsetX:33,offsetXSuffix:"%",offsetXAlignment:"left",offsetY:49,offsetYSuffix:"%",offsetYAlignment:"top"},"story-icon":{elementPosition:"fixed",customSize:20,offsetX:40,offsetXSuffix:"%",offsetXAlignment:"left",offsetY:44,offsetYSuffix:"%",offsetYAlignment:"top",customSizeSuffix:"%",hoverColorHex:null,hoverColorOpacity:null,hoverColorPalette:null,tempHoverColorOpacity:null,tempHoverColorPalette:null,hoverGradientActivePointer:null,hoverGradientStartPointer:null,hoverGradientFinishPointer:null,hoverGradientType:null,hoverGradientLinearDegree:null,hoverGradientRadialDegree:null,hoverBgColorType:null,hoverBgColorHex:null,hoverBgColorOpacity:null,hoverBgColorPalette:null,tempHoverBgColorOpacity:null,tempHoverBgColorPalette:null,hoverGradientColorHex:null,hoverGradientColorOpacity:null,hoverGradientColorPalette:null,tempHoverGradientColorOpacity:null,tempHoverGradientColorPalette:null,hoverBorderColorHex:null,hoverBorderColorOpacity:null,hoverBorderColorPalette:null,tempHoverBorderColorOpacity:null,tempHoverBorderColorPalette:null},"story-video":{size:90,elementPosition:"fixed",offsetX:5,offsetXSuffix:"%",offsetXAlignment:"left",offsetY:34,offsetYSuffix:"%",offsetYAlignment:"top"},"story-richText":{width:90,elementPosition:"fixed",offsetX:5,offsetXSuffix:"%",offsetXAlignment:"left",offsetY:46,offsetYSuffix:"%",offsetYAlignment:"top"},"story-button":{paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,elementPosition:"fixed",offsetX:30,offsetXSuffix:"%",offsetXAlignment:"left",offsetY:46,offsetYSuffix:"%",offsetYAlignment:"top",width:40,widthSuffix:"%",height:30,heightSuffix:"%"},"story-form-button":{offsetX:0},"wrapper--story-form2":{showToolbar:"on"},"story-form2":{width:80,widthSuffix:"%",elementPosition:"fixed",offsetX:10,offsetXSuffix:"%",offsetXAlignment:"left",offsetY:20,offsetYSuffix:"%",offsetYAlignment:"top"},"story-lottie":{width:60,widthSuffix:"%",elementPosition:"fixed",offsetX:20,offsetXSuffix:"%",offsetXAlignment:"left",offsetY:34,offsetYSuffix:"%",offsetYAlignment:"top"},"posts--column":{width:100},"postTitle-posts":{fontStyle:"custom",fontSize:20,tabletFontStyle:"custom",tabletFontSize:16,mobileFontStyle:"custom",mobileFontSize:16,contentHorizontalAlign:"center"},"postExcerpt-posts":{contentHorizontalAlign:"center"},"posts-archive":{pagination:"on"},"posts-productArchive":{pagination:"on"},"wrapper--flipbox":{showToolbar:"on"}};var l=o(17127),s=o(75986),d=o(41627),c=o(23979);const u=(0,r.P1)(c.AV,c.ql,((e,t)=>Object.entries(e).reduce(((e,o)=>{let[n,r]=o;return t[n]?("SectionPopup"===t[n].type||"SectionPopup2"===t[n].type||(e[n]=r),e):e}),{}))),p=(0,r.P1)(c._p,c.AV,c._E,u,((e,t,o,n)=>{const r=o.filter((o=>!t[o]||(0,s.oL)(t[o],e)));return(0,l.k8)(r,n)})),f=(0,r.P1)(c.AV,c.ql,c.i6,((e,t,o)=>(0,d.m8)(Object.entries(e).map((e=>{const[r,a]=e,i=t[r],l=o[r];return[r,(0,n.Uy)(a,(e=>{e.data={...e.data,...i},l&&(Object.assign(e.data.value,l),Object.assign(e.meta,l)),(0,d.dd)(e.data.value,(e=>{e.type&&"GlobalBlock"!==e.type&&e.value&&e.value._id&&o[e.value._id]&&(e.meta=e.meta||{},Object.assign(e.value,o[e.value._id]),Object.assign(e.meta,o[e.value._id]))}))}))]}))))),h=(0,r.P1)(c.oc,c.dB,((e,t)=>{const{colorPalette:o,fontStyles:n}=e,r=n.concat(t),a=o.reduce(((e,t)=>({...e,[`${t.id}__color`]:{colorHex:t.hex},[`${t.id}__hoverColor`]:{hoverColorHex:t.hex},[`${t.id}__bg`]:{bgColorHex:t.hex},[`${t.id}__hoverBg`]:{hoverBgColorHex:t.hex},[`${t.id}__gradient`]:{gradientColorHex:t.hex},[`${t.id}__hoverGradient`]:{hoverGradientColorHex:t.hex},[`${t.id}__bg2`]:{bg2ColorHex:t.hex},[`${t.id}__border`]:{borderColorHex:t.hex},[`${t.id}__hoverBorder`]:{hoverBorderColorHex:t.hex},[`${t.id}__arrowsColor`]:{sliderArrowsColorHex:t.hex},[`${t.id}__dotsColor`]:{sliderDotsColorHex:t.hex},[`${t.id}__boxShadow`]:{boxShadowColorHex:t.hex},[`${t.id}__shapeTopColor`]:{shapeTopColorHex:t.hex},[`${t.id}__shapeBottomColor`]:{shapeBottomColorHex:t.hex},[`${t.id}__paginationColor`]:{paginationColorHex:t.hex},[`${t.id}__tabletBg`]:{tabletBgColorHex:t.hex},[`${t.id}__tabletBorder`]:{tabletBorderColorHex:t.hex},[`${t.id}__mobileBg`]:{mobileBgColorHex:t.hex},[`${t.id}__mobileBorder`]:{mobileBorderColorHex:t.hex},[`${t.id}__subMenuColor`]:{subMenuColorHex:t.hex},[`${t.id}__subMenuHoverColor`]:{subMenuHoverColorHex:t.hex},[`${t.id}__subMenuBgColor`]:{subMenuBgColorHex:t.hex},[`${t.id}__subMenuHoverBgColor`]:{subMenuHoverBgColorHex:t.hex},[`${t.id}__subMenuBorderColor`]:{subMenuBorderColorHex:t.hex},[`${t.id}__mMenuColor`]:{mMenuColorHex:t.hex},[`${t.id}__mMenuHoverColor`]:{mMenuHoverColorHex:t.hex},[`${t.id}__mMenuBgColor`]:{mMenuBgColorHex:t.hex},[`${t.id}__mMenuBorderColor`]:{mMenuBorderColorHex:t.hex},[`${t.id}__mMenuIconColor`]:{mMenuIconColorHex:t.hex},[`${t.id}__tabletMMenuIconColor`]:{tabletMMenuIconColorHex:t.hex},[`${t.id}__mobileMMenuIconColor`]:{mobileMMenuIconColorHex:t.hex},[`${t.id}__labelColor`]:{labelColorHex:t.hex},[`${t.id}__checkboxColor`]:{checkboxColorHex:t.hex},[`${t.id}__selectColor`]:{selectColorHex:t.hex},[`${t.id}__hoverSelectColor`]:{hoverSelectColorHex:t.hex},[`${t.id}__selectBg`]:{selectBgColorHex:t.hex},[`${t.id}__hoverSelectBg`]:{hoverSelectBgColorHex:t.hex},[`${t.id}__selectBorderColor`]:{selectBorderColorHex:t.hex},[`${t.id}__hoverSelectBorderColor`]:{hoverSelectBorderColorHex:t.hex},[`${t.id}__selectBoxShadow`]:{selectBoxShadowColorHex:t.hex},[`${t.id}__hoverSelectBoxShadow`]:{hoverSelectBoxShadowColorHex:t.hex}})),{}),l=r.reduce(((e,t)=>({...e,[`${t.id}__fsDesktop`]:{fontFamily:t.fontFamily,fontFamilyType:t.fontFamilyType,fontSize:t.fontSize,fontSizeSuffix:t.fontSizeSuffix??"px",fontWeight:t.fontWeight,lineHeight:t.lineHeight,letterSpacing:t.letterSpacing},[`${t.id}__fsTablet`]:{tabletFontSize:t.tabletFontSize,tabletFontSizeSuffix:t.tabletFontSizeSuffix??"px",tabletFontWeight:t.tabletFontWeight,tabletLineHeight:t.tabletLineHeight,tabletLetterSpacing:t.tabletLetterSpacing},[`${t.id}__fsMobile`]:{mobileFontSize:t.mobileFontSize,mobileFontSizeSuffix:t.mobileFontSizeSuffix??"px",mobileFontWeight:t.mobileFontWeight,mobileLineHeight:t.mobileLineHeight,mobileLetterSpacing:t.mobileLetterSpacing},[`${t.id}__subMenuFsDesktop`]:{subMenuFontFamily:t.fontFamily,subMenuFontFamilyType:t.fontFamilyType,subMenuFontSize:t.fontSize,subMenuFontSizeSuffix:t.fontSizeSuffix??"px",subMenuFontWeight:t.fontWeight,subMenuLineHeight:t.lineHeight,subMenuLetterSpacing:t.letterSpacing},[`${t.id}__subMenuFsTablet`]:{tabletSubMenuFontSize:t.tabletFontSize,tabletSubMenuFontSizeSuffix:t.tabletFontSizeSuffix??"px",tabletSubMenuFontWeight:t.tabletFontWeight,tabletSubMenuLineHeight:t.tabletLineHeight,tabletSubMenuLetterSpacing:t.tabletLetterSpacing},[`${t.id}__subMenuFsMobile`]:{mobileSubMenuFontSize:t.mobileFontSize,mobileSubMenuFontSizeSuffix:t.mobileFontSizeSuffix??"px",mobileSubMenuFontWeight:t.mobileFontWeight,mobileSubMenuLineHeight:t.mobileLineHeight,mobileSubMenuLetterSpacing:t.mobileLetterSpacing},[`${t.id}__mMenuFsDesktop`]:{mMenuFontFamily:t.fontFamily,mMenuFontFamilyType:t.fontFamilyType,mMenuFontSize:t.fontSize,mMenuFontSizeSuffix:t.fontSizeSuffix??"px",mMenuFontWeight:t.fontWeight,mMenuLineHeight:t.lineHeight,mMenuLetterSpacing:t.letterSpacing},[`${t.id}__mMenuFsTablet`]:{tabletMMenuFontSize:t.tabletFontSize,tabletMMenuFontSizeSuffix:t.tabletFontSizeSuffix??"px",tabletMMenuFontWeight:t.tabletFontWeight,tabletMMenuLineHeight:t.tabletLineHeight,tabletMMenuLetterSpacing:t.tabletLetterSpacing},[`${t.id}__mMenuFsMobile`]:{mobileMMenuFontSize:t.mobileFontSize,mobileMMenuFontSizeSuffix:t.mobileFontSizeSuffix??"px",mobileMMenuFontWeight:t.mobileFontWeight,mobileMMenuLineHeight:t.mobileLineHeight,mobileMMenuLetterSpacing:t.mobileLetterSpacing}})),{});return{...i,...a,...l}})),_=(0,r.P1)(c.iI,c.qx,((e,t)=>(0,n.Uy)(e,(e=>{(0,d.dd)(e,(e=>{if(e.type&&"GlobalBlock"===e.type&&e.value){const{_id:o}=e.value;t[o]&&Object.assign(e,t[o].data)}}))})))),g=(0,r.P1)(c.Rh,c.Ai,c.Ke,c.my,c.fv,c.oc,c.dB,((e,t,o,r,i,l,s)=>(0,n.Uy)(e,(e=>{e.data.fonts=a.ZP.omit(t,"system"),e.data.styles=o,e.data.selectedStyle=i,e.data.extraFontStyles=s,e.data.extraStyles=r;for(let t=0;t<e.data.styles.length;t++)e.data.styles[t].id===l.id&&(e.data.styles[t]=l)})))),y=(0,r.P1)(c._p,c.oZ,c.i6,((e,t,o)=>(0,n.Uy)(e,(e=>{e.data.items=t,Object.keys(o).length>0&&(0,d.dd)(e,(e=>{e.type&&"GlobalBlock"!==e.type&&e.value&&e.value._id&&o[e.value._id]&&Object.assign(e.value,o[e.value._id])}))})))),b=(0,r.P1)(c._p,c.Rn,c.i6,((e,t,o)=>(0,n.Uy)(e,(e=>{e.data.items=t,Object.keys(o).length>0&&(0,d.dd)(e,(e=>{e.type&&"GlobalBlock"!==e.type&&e.value&&e.value._id&&o[e.value._id]&&Object.assign(e.value,o[e.value._id])}))}))));(0,r.P1)(c.Rn,c.i6,((e,t)=>(0,n.Uy)(e,(e=>{Object.keys(t).length>0&&(0,d.dd)(e,(e=>{e.type&&"GlobalBlock"!==e.type&&e.value&&e.value._id&&t[e.value._id]&&Object.assign(e.value,t[e.value._id])}))})))),(0,r.P1)(c._p,c.Rn,c.AV,c.i6,((e,t,o,r)=>{const a=t.filter((t=>{if("GlobalBlock"===t.type){const{_id:n}=t.value;if(o[n]?.data)return(0,s.oL)(o[n],e)}return!0}));return(0,n.Uy)(a,(e=>{Object.keys(r).length>0&&(0,d.dd)(e,(e=>{e.type&&"GlobalBlock"!==e.type&&e.value&&e.value._id&&r[e.value._id]&&Object.assign(e.value,r[e.value._id])}))}))}))},87272:(e,t,o)=>{o.d(t,{M:()=>B,b:()=>C});var n=o(13501),r=o(45106),a=o(78338),i=o(64362),l=o(99563),s=o(67819),d=o(41627);const c="UNDO";class u{snapshots=[];config={maxSize:20,collapseFrequency:2e3};currentIndex=-1;previousIndex=-1;lastSnapshotTimestamp=0;canUndo_=!1;canRedo_=!1;constructor(e){e&&(this.config=e),this.snapshots=new Array(this.config.maxSize).fill(null)}getSnapshots(){return this.snapshots}getCurrentSnapshot(){return this.snapshots[this.currentIndex]??null}getPreviousSnapshot(){return this.snapshots[this.previousIndex]??null}getSnapshot(e){if(e>0){const t=e-1;return this.snapshots[t]??null}{const t=this.snapshots.filter((e=>null!==e)).length+e;return this.snapshots[t]??null}}update(e,t){if(Object.keys(e).some((t=>e[t]!==this.snapshots[this.currentIndex]?.[t]))){const o=e,n=Date.now();if(t?.replacePresent)this.snapshots[this.currentIndex]=o;else{if(this.snapshots[this.currentIndex+1]&&null!==this.snapshots[this.currentIndex+1]){this.previousIndex=this.currentIndex,this.currentIndex++,this.snapshots[this.currentIndex]=o;for(let e=this.currentIndex+1;e<=this.snapshots.length-1;e++)this.snapshots[e]=null}else if(n-this.lastSnapshotTimestamp>this.config.collapseFrequency)if(this.currentIndex===this.snapshots.length-1){for(let e=0;e<=this.snapshots.length-2;e++)this.snapshots[e]=this.snapshots[e+1];this.snapshots[this.snapshots.length-1]=o}else this.previousIndex=this.currentIndex,this.currentIndex++,this.snapshots[this.currentIndex]=o;else this.snapshots[this.currentIndex]=o;this.updateFlags(),this.lastSnapshotTimestamp=n}}}replaceSnapshots(e){if(e.length!==this.snapshots.length)throw new Error("History. snapshots must be of same lengths");for(let t=0;t<this.snapshots.length;t++)if(null===this.snapshots[t]&&null!==e[t]||null!==this.snapshots[t]&&null===e[t])throw new Error("History. only patch snapshots supported for now");this.snapshots=e}canUndo(){return this.canUndo_}undo(){this.canUndo()&&(this.previousIndex=this.currentIndex,this.currentIndex--,this.updateFlags())}canRedo(){return this.canRedo_}redo(){this.canRedo()&&(this.previousIndex=this.currentIndex,this.currentIndex++,this.updateFlags())}updateFlags(){this.canUndo_=this.currentIndex>0,this.canRedo_=Boolean(this.snapshots[this.currentIndex+1]&&null!==this.snapshots[this.currentIndex+1])}}function p(e,t){return{...e,history:{currSnapshot:t.getCurrentSnapshot(),prevSnapshot:t.getPreviousSnapshot(),canUndo:t.canUndo(),canRedo:t.canRedo()}}}var f=o(5188),h=o(70634),_=o(11016),g=o(98543),y=o(84627);const b={value:{items:[]},path:[]};var m=o(92775),O=o(10301);(0,f.Fl)(!1);var S=o(22402),T=o(35369);const E=e=>e.type&&e.value&&e.value._id&&e.value._thumbnailSrc;function P(e){const t={};return(0,d.dd)(e,(e=>{if(E(e)){const o=e.value;t[e.value._id]={_thumbnailSrc:o._thumbnailSrc,_thumbnailWidth:o._thumbnailWidth,_thumbnailHeight:o._thumbnailHeight,_thumbnailTime:o._thumbnailTime}}})),t}const x={deviceMode:"desktop",activeElement:null,leftSidebar:{isOpen:!1,drawerContentType:void 0},rightSidebar:{type:"options",isOpen:!1,lock:void 0,alignment:"right",activeTab:void 0},showHiddenElements:!1,currentRole:"default",currentLanguage:"default"},L=function(e,t){const o=new u;return function(n,r){switch(r.type){case c:case"REDO":{const e=r.type===c?o.canUndo():o.canRedo(),t=r.type===c?o.undo:o.redo;return e?(t.call(o),p({...n,...o.getCurrentSnapshot(),storeWasChanged:s.w.changed},o)):"object"==typeof(a=n).history&&null!==a.history&&(0,d.s_)(["currSnapshot","prevSnapshot","canUndo","canRedo"],a.history)?n:p({...n,...o.getCurrentSnapshot(),storeWasChanged:s.w.changed},o)}default:{const a=e(n,r);if(!r.type.includes("@@redux/INIT")){t.onBeforeUpdate&&t.onBeforeUpdate(n,r,o);const e=function(e,t){return t.reduce(((t,o)=>(t[o]=e[o],t)),{})}(a,t.keysToTrack);o.update(e,{replacePresent:Boolean(r?.meta?.historyReplacePresent)})}return p(a,o)}}var a}}((v={authorized:(e,t)=>{switch(t.type){case"HYDRATE":{const{authorized:e}=t.payload;return e}case"UPDATE_AUTHORIZATION":return t.payload;default:return e}},syncAllowed:(e,t)=>{switch(t.type){case"HYDRATE":{const{syncAllowed:e}=t.payload;return e}case"UPDATE_SYNC_ALLOWED":return t.payload;default:return e}},blocksData:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;switch(t.type){case"HYDRATE":{const{page:e,globalBlocks:o}=t.payload,n=e.data?.items||[];if((0,y.zK)(_.ZP.getAll())&&0===n.length)return{ecupxjcqmrpxjdimoebbkbnotrlufkfokjvr:{type:"Story",value:{_styles:["story"],items:[{type:"StoryItem",value:{_styles:["story-item"],items:[],_id:"dfmwxzkwbiaezltvsxhdinhplvimzenkiqto"}}],_id:"ecupxjcqmrpxjdimoebbkbnotrlufkfokjvr"},blockId:"StoryDefault"}};const r=n.reduce(((e,t)=>{const o=(0,f.Uy)(t,(e=>{delete e.meta})),{_id:n,globalBlockId:r}=o.value;return e[r||n]=o,e}),{}),a=Object.entries(o).reduce(((e,t)=>{let[o,n]=t;return e[o]=(0,f.Uy)(n.data,(e=>{e.value._id=o})),e}),{});return(0,f.Uy)({...r,...a},(e=>{(0,d.dd)(e,(e=>{if(e.type&&"GlobalBlock"===e.type){const{globalBlockId:t}=e.value;t&&(e.value._id=t,delete e.value.globalBlockId)}}))}))}case a.MF.IMPORT_STORY:{const{blocks:n}=t.payload,{insertIndex:r}=t.meta,a=(0,i._E)(o)[0],l=(0,y.ZC)(e[a].value.items,r,n);return(0,h.tP)(e,[a,"value","items"],l)}case"ADD_BLOCK":{const{block:o}=t.payload;return{...e,[o.value._id]:o}}case"MAKE_POPUP_TO_GLOBAL_POPUP":{const{block:{data:o},fromBlockId:n}=t.payload,r=(0,y.dl)((e=>e.value._id===n?(0,g.Uw)({blockId:e.blockId,uid:o.value._id}):e),e);return(0,f.Uy)(r,(e=>{e[o.value._id]=o}))}case"MAKE_GLOBAL_POPUP_TO_POPUP":{const{block:o,fromBlockId:n,parentId:r}=t.payload;if((0,y.CO)(_.ZP.getAll()))return{...e,[o.value._id]:o};const a=e=>e.value._id===n?o:e,i=e=>(0,y.vP)(e)?(0,d.UI)(i,a(e)):(0,d.UI)(i,e),l=e=>!!(0,y.vP)(e)&&e.value._id===r,s=e=>l(e)?i(e):(0,d.UI)(s,e);return s(e)}case"MAKE_GLOBAL_BLOCK_TO_BLOCK":{const{block:o}=t.payload;return{...e,[o.value._id]:o}}case"MAKE_BLOCK_TO_GLOBAL_BLOCK":{const{block:{data:o},fromBlockId:n}=t.payload;return(0,f.Uy)(e,(e=>{e[o.value._id]=o,delete e[n]}))}case"DELETE_GLOBAL_BLOCK":{const{id:o}=t.payload;return(0,f.Uy)(e,(e=>{e[o].deleted=!0}))}case a.MF.REMOVE_BLOCK:{const{index:n}=t.payload,r=(0,i.AV)(o),a=Object.keys(r),l=(0,i._E)(o)[n];return a.includes(l)?e:(0,f.Uy)(e,(e=>{delete e[l]}))}case a.MF.REMOVE_BLOCKS:{const t=(0,i._E)(o),n=(0,i.AV)(o),r=Object.keys(n),a=t.filter((e=>!r.includes(e)));return(0,f.Uy)(e,(e=>{a.forEach((t=>{delete e[t]}))}))}case"UPDATE_GLOBAL_BLOCK":{const{uid:o,data:n}=t.payload;return null===n.value?e:{...e,[o]:n}}case a.MF.IMPORT_TEMPLATE:case"UPDATE_BLOCKS":{const{blocks:o}=t.payload,n=o.reduce(((e,t)=>("GlobalBlock"===t.type||(e[t.value._id]=t),e)),{});return{...e,...n}}default:return e}},copiedElement:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;return t.type===a.MF.COPY_ELEMENT?{...e,...t.value}:e},error:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"HYDRATE":{const{projectStatus:o}=t.payload;return o.locked?{code:m.bu,data:o}:e}case a.MF.UPDATE_ERROR:return t.payload;default:return e}},extraFontStyles:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"HYDRATE":{const{project:e}=t.payload;return e.data.extraFontStyles}case"UPDATE_EXTRA_FONT_STYLES":return t.payload;case a.MF.IMPORT_TEMPLATE:case"ADD_BLOCK":case"ADD_GLOBAL_BLOCK":case"ADD_GLOBAL_POPUP":{const{extraFontStyles:o}=t.payload;return o&&0!==o.length?[...e,...o]:e}default:return e}},fonts:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"HYDRATE":{const{fonts:e}=t.payload;return e}case"ADD_FONTS":case"DELETE_FONTS":{const o=t.payload;return o?{...e,...o}:e}case a.MF.IMPORT_STORY:case a.MF.IMPORT_TEMPLATE:case a.MF.IMPORT_KIT:case"ADD_BLOCK":case"ADD_GLOBAL_BLOCK":case"ADD_GLOBAL_POPUP":{const{fonts:o}=t.payload;return o&&0!==o.length?(0,f.Uy)(e,(e=>{o.forEach((t=>{let{type:o,fonts:n}=t;e[o]=e[o]||{data:[]},e[o].data.push(...n)}))})):e}default:return e}},globalBlocks:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;switch(t.type){case"HYDRATE":{const{globalBlocks:e,page:{data:{items:o=[]}}}=t.payload,n=o.filter((e=>e?.value?.globalBlockId)).map((e=>e?.value?.globalBlockId));return Object.entries(e).reduce(((e,o)=>{let[r,a]=o;return n.includes(r)&&!(0,g.CO)(a.data)?e[r]=(0,f.Uy)(a,(e=>{e.rules=(0,g.$f)(a,!0,t.payload.page).rules,e.data.value._id=r})):e[r]=a,e}),{})}case"ADD_BLOCK":return e;case"ADD_GLOBAL_BLOCK":{const{_id:n}=t.payload.block.value;return{...e,[n]:(0,g.$f)(e[n],!0,o?.page)}}case"MAKE_POPUP_TO_GLOBAL_POPUP":case"MAKE_BLOCK_TO_GLOBAL_BLOCK":{const{uid:o,data:n,status:r,meta:a,rules:i,dataVersion:l,position:s}=t.payload.block;return(0,f.Uy)(e,(e=>({[n.value._id]:{uid:o,dataVersion:l,meta:a,data:n,status:r,rules:i,position:s},...e})))}case"UPDATE_GLOBAL_BLOCK":{const{uid:n,data:r,title:a="",tags:i=""}=t.payload;if(null===r.value&&!(0,g.CO)(e[n].data)){const t=(0,g.$f)(e[n],!1,o?.page);return{...e,[n]:t}}return(0,f.Uy)(e,(e=>{a.length>0&&(e[n].title=a),e[n].tags=i}))}case a.MF.REMOVE_BLOCK:{const{index:n}=t.payload,r=(0,i._E)(o),a=Object.keys(e),l=r[n];if(a.includes(r[n])&&!(0,g.CO)(e[l].data)){const t=(0,g.$f)(e[l],!1,o?.page);return{...e,[l]:t}}return e}case"MAKE_GLOBAL_BLOCK_TO_BLOCK":{const{fromBlockId:n}=t.payload,r=(0,g.$f)(e[n],!1,o?.page);return{...e,[n]:r}}case"REORDER_BLOCKS":{const{oldIndex:n,newIndex:r}=t.payload,a=(0,i._E)(o),l=Object.keys(e);if(l.includes(a[n])){const t=a[n],s=(0,h.$T)((0,h.D3)(a,n),r,t),d=a[n],c=(0,g.Fp)(a,n,l),u=(0,g.Fp)(s,r,l);if("center"===c&&("top"===u||"bottom"===u)&&!(0,g.Hs)((0,i.I8)(o),e,o?.page).includes(d)){const t=(0,g.$f)(e[d],!0,o?.page);return{...e,[d]:t}}}return e}case a.MF.REMOVE_BLOCKS:{const t=(0,i._E)(o),n=Object.keys(e),r=O.ZP.intersection(t,n);return(0,f.Uy)(e,(e=>{r.forEach((t=>{(0,g.CO)(e[t].data)||(e[t]=(0,g.$f)(e[t],!1,o?.page))}))}))}case"UPDATE_BLOCKS":{const{blocks:n}=t.payload,r=(0,i._E)(o),a=n.map((e=>e.value._id)),l=O.ZP.difference(r,a);return(0,f.Uy)(e,(e=>{l.forEach((t=>{e[t]&&!(0,g.CO)(e[t].data)&&(e[t]=(0,g.$f)(e[t],!1,o?.page))}))}))}case"UPDATE_GB_RULES":{const{id:o,rules:n}=t.payload;return(0,f.Uy)(e,(e=>{e[o].rules=n}))}case"DELETE_GLOBAL_BLOCK":{const{id:o}=t.payload;return(0,f.Uy)(e,(e=>{e[o].data.deleted=!0}))}case"PUBLISH":{const e=(0,i.KK)(o),t=(0,i.q_)(o),n=(0,i.gP)(o).reduce(((t,o)=>({...t,[o]:e[o]})),{}),r=(0,i.$E)(o);return Object.entries(e).reduce(((e,o)=>{let[a,i]=o;return e[a]=(0,f.Uy)(i,(e=>{const o="SectionPopup"===i.data.type||"SectionPopup2"===i.data.type;o||(e.position=r[a]||null),(t[a]||n[a]||o)&&(e.status="publish")})),e}),{})}default:return e}},changedGBIds:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;switch(t.type){case"ADD_GLOBAL_BLOCK":case"ADD_GLOBAL_POPUP":return[...e,t.payload.block.value._id];case"MAKE_POPUP_TO_GLOBAL_POPUP":case"MAKE_BLOCK_TO_GLOBAL_BLOCK":return[...e,t.payload.block.data.value._id];case"MAKE_GLOBAL_POPUP_TO_POPUP":case"MAKE_GLOBAL_BLOCK_TO_BLOCK":{const{fromBlockId:o}=t.payload;return e.includes(o)?e:[...e,o]}case a.MF.REMOVE_BLOCK:{const{id:n}=t.payload;return(0,i.AV)(o)[n]&&!e.includes(n)?[...e,n]:e}case a.MF.REMOVE_BLOCKS:{const t=(0,i.q_)(o),n=Object.keys(t),r=e;for(let t=0;t<n.length;t++){const o=n[t];e.includes(o)||r.push(o)}return r}case"UPDATE_GLOBAL_BLOCK":{const{uid:o}=t.payload;return e.includes(o)?e:[...e,o]}case"FETCH_PAGE_SUCCESS":return[];default:return e}},page:(e,t,o)=>{switch(t.type){case"HYDRATE":{const{page:e}=t.payload;return e}case"PUBLISH":{const{status:n}=t.payload;if((0,i.Df)(o)!==s.w.changed&&n===e.status)return e;const r=(0,y.CO)(_.ZP.getAll())?(0,i.h$)(o):(0,i.sA)(o);return(0,f.Uy)(r,(e=>{e.status=n,e.dataVersion=e.dataVersion+1}))}case"UPDATE_TRIGGERS":{const{data:o}=t.payload;return(0,f.Uy)(e,(e=>{e.data.triggers=o,e.dataVersion=e.dataVersion+1}))}case"UPDATE_POPUP_RULES":return(0,f.Uy)(e,(e=>{e.data.rulesAmount=t.payload.rules.length,e.dataVersion=e.dataVersion+1}));case"UPDATE_PAGE_LAYOUT":return(0,S.wr)(e)?(0,f.Uy)(e,(e=>{e.layout.value=t.payload.layout,e.dataVersion=e.dataVersion+1})):e;case"UPDATE_PAGE_TITLE":return(0,S.wr)(e)?(0,f.Uy)(e,(e=>{e.title=t.payload,e.dataVersion=e.dataVersion+1})):e;case"UPDATE_PAGE_IS_HOME_PAGE":return(0,S.wr)(e)?(0,f.Uy)(e,(e=>{e.layout.isHomePage=t.payload.isHomePage,e.dataVersion=e.dataVersion+1})):e;default:return e}},blocksOrder:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"HYDRATE":{const e=t.payload.page.data?.items||[];if((0,y.zK)(_.ZP.getAll())&&0===e.length)return["ecupxjcqmrpxjdimoebbkbnotrlufkfokjvr"];const o=e.map((e=>e.value.globalBlockId||e.value._id));return(0,g.ey)(o,t.payload.globalBlocks,t.payload.page)}case"ADD_GLOBAL_POPUP":case"ADD_GLOBAL_BLOCK":case"ADD_BLOCK":{const{block:o}=t.payload,{insertIndex:n}=t.meta,{_id:r}=o.value;return e.includes(r)?e:(0,h.$T)(e,n,o.value._id)}case a.MF.REMOVE_BLOCK:{const{index:o}=t.payload;return(0,h.D3)(e,o)}case a.MF.REMOVE_BLOCKS:return[];case"MAKE_GLOBAL_POPUP_TO_POPUP":if((0,y.CO)(_.ZP.getAll())){const{block:o,fromBlockId:n}=t.payload;return(0,h.Rc)(e,e.findIndex((e=>e===n)),o.value._id)}return e;case"MAKE_BLOCK_TO_GLOBAL_BLOCK":{const{block:o,fromBlockId:n}=t.payload;return(0,h.Rc)(e,e.findIndex((e=>e===n)),o.data.value._id)}case"MAKE_GLOBAL_BLOCK_TO_BLOCK":{const{block:o,fromBlockId:n}=t.payload;return(0,h.Rc)(e,e.findIndex((e=>e===n)),o.value._id)}case"REORDER_BLOCKS":{const{oldIndex:o,newIndex:n}=t.payload,r=e[o];return(0,h.$T)((0,h.D3)(e,o),n,r)}case a.MF.IMPORT_TEMPLATE:{const{blocks:o}=t.payload,{insertIndex:n}=t.meta,r=o.map((e=>e.value._id));return(0,h.$T)(e,n,r)}case"UPDATE_BLOCKS":{const{blocks:e}=t.payload;return e.map((e=>e.value._id))}case"UPDATE_GLOBAL_BLOCK":{const{uid:o,data:n}=t.payload;return null===n.value?e.filter((e=>e!==o)):e}default:return e}},project:(e,t,o)=>{switch(t.type){case"HYDRATE":{const{project:e}=t.payload;return e}case"PUBLISH":{const t=(0,i.g6)(o),n=(0,T.d0)(e),r=(0,T.d0)(t);return n.equals(r)?e:(0,f.Uy)(t,(e=>{e.dataVersion=e.dataVersion+1}))}case"UPDATE_DISABLED_ELEMENTS":{const o=t.payload;return(0,f.Uy)(e,(e=>{e.data.disabledElements=o,e.dataVersion=e.dataVersion+1}))}case a.MF.IMPORT_KIT:{const{selectedKit:o}=t.payload;return(0,f.Uy)(e,(e=>{e.data.selectedKit=o,e.dataVersion=e.dataVersion+1}))}case"UPDATE_CURRENT_KIT_ID":{const o=t.payload;return(0,f.Uy)(e,(e=>{e.data.selectedKit=o,e.dataVersion=e.dataVersion+1}))}case a.MF.IMPORT_STORY:case a.MF.IMPORT_TEMPLATE:{const{styles:o,fonts:n}=t.payload;return o?.length||n?.length?(0,f.Uy)(e,(e=>{e.dataVersion=e.dataVersion+1})):e}case"ADD_FONTS":case"DELETE_FONTS":return(0,f.Uy)(e,(e=>{e.dataVersion=e.dataVersion+1}));case"UPDATE_DEFAULT_FONT":{const o=t.payload;return(0,f.Uy)(e,(e=>{e.data.font=o,e.dataVersion=e.dataVersion+1}))}default:return e}},styles:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.ju:{const{project:e}=t.payload;return e.data.styles}case a.MF.IMPORT_STORY:case a.MF.IMPORT_TEMPLATE:case a.MF.IMPORT_KIT:{const{styles:o}=t.payload;return o?e.find((e=>e.id===o[0].id))?e:[...o,...e]:e}case a.MF.UPDATE_CURRENT_STYLE:return(0,f.Uy)(e,(e=>{for(let o=0;o<e.length;o++)e[o].id===t.payload.id&&(e[o]=t.payload)}));default:return e}},currentStyleId:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;switch(t.type){case"HYDRATE":{const{project:e}=t.payload;return e.data.selectedStyle}case a.MF.UPDATE_CURRENT_STYLE_ID:return t.payload;case a.MF.ADD_NEW_GLOBAL_STYLE:return t.payload.id;case a.MF.REMOVE_GLOBAL_STYLE:return o.styles[0].id;case a.MF.IMPORT_STORY:case a.MF.IMPORT_TEMPLATE:{const{currentStyleId:o}=t.payload;return o||e}default:return e}},currentStyle:(e,t,o)=>{switch(t.type){case"HYDRATE":{const{project:e}=t.payload,o=[...e.data.styles,...e.data.extraStyles??[]];return o.find((t=>t.id===e.data.selectedStyle))??o[0]}case a.MF.UPDATE_CURRENT_STYLE:return t.payload;case a.MF.UPDATE_CURRENT_STYLE_ID:{const e=t.payload,n=[...o.styles,...o.extraStyles??[]];return n.find((t=>{let{id:o}=t;return o===e}))??n[0]}case a.MF.ADD_NEW_GLOBAL_STYLE:return t.payload;case a.MF.REMOVE_GLOBAL_STYLE:return o.styles[0];case a.MF.IMPORT_STORY:case a.MF.IMPORT_TEMPLATE:{const{currentStyleId:n,styles:r}=t.payload,a=[...r??[],...o.styles,...o.extraStyles];return(n?a.find((e=>e.id===n)):e)??e}case a.MF.EDIT_GLOBAL_STYLE_NAME:return{...e,title:t.payload};default:return e}},ui:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;if("UPDATE_UI"===t.type){const{key:o,value:n}=t,r={...e,[o]:n};return"deviceMode"===o&&"manual"!==r.rightSidebar.lock&&("desktop"!==n?r.rightSidebar={...r.rightSidebar,isOpen:!0,lock:"auto"}:r.rightSidebar.isOpen&&(r.rightSidebar={...r.rightSidebar,isOpen:!1,lock:void 0})),r}return e},storeWasChanged:(e,t)=>{switch(t.type){case"HYDRATE":return s.w.unchanged;case"ADD_BLOCK":case a.MF.REMOVE_BLOCK:case a.MF.REMOVE_BLOCKS:case"REORDER_BLOCKS":case"UPDATE_BLOCKS":case"UPDATE_GLOBAL_BLOCK":case"MAKE_BLOCK_TO_GLOBAL_BLOCK":case"MAKE_POPUP_TO_GLOBAL_POPUP":case"MAKE_GLOBAL_POPUP_TO_POPUP":case"MAKE_GLOBAL_BLOCK_TO_BLOCK":case"ADD_GLOBAL_BLOCK":case a.MF.UPDATE_CURRENT_STYLE_ID:case a.MF.UPDATE_CURRENT_STYLE:case"UPDATE_EXTRA_FONT_STYLES":case a.MF.IMPORT_TEMPLATE:case a.MF.IMPORT_STORY:case"UNDO":case"REDO":return s.w.changed;case"PUBLISH":return s.w.pending;case"STORE_WAS_CHANGED":return t.payload;case a.MF.UPDATE_ERROR:return s.w.unchanged;default:return e}},extraStyles:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;switch(t.type){case"HYDRATE":{const{project:e}=t.payload;return e.data.extraStyles}case a.MF.UPDATE_CURRENT_STYLE:{const n=o.currentStyleId;return(0,f.Uy)(e,(e=>{const o=e.findIndex((e=>e.id===n));-1!==o&&(e[o]=t.payload)}))}case a.MF.ADD_NEW_GLOBAL_STYLE:return[...e,t.payload];case a.MF.REMOVE_GLOBAL_STYLE:return e.filter((e=>e.id!==t.payload));case a.MF.EDIT_GLOBAL_STYLE_NAME:{const n=o.currentStyleId;return(0,f.Uy)(e,(e=>{const o=e.findIndex((e=>e.id===n));-1!==o&&(e[o].title=t.payload)}))}default:return e}}},A={screenshots:(e,t,o,n)=>{switch(t.type){case"HYDRATE":case"PUBLISH":{const e=P(n.page.data),t={};for(const[e,o]of Object.entries(n.globalBlocks)){const n=o.data;if(E(n)){const o=n.value;t[e]={_thumbnailSrc:o._thumbnailSrc,_thumbnailWidth:o._thumbnailWidth,_thumbnailHeight:o._thumbnailHeight,_thumbnailTime:o._thumbnailTime}}Object.assign(t,P(n.value))}return{...e,...t,_published:{...e,...t}}}case a.MF.UPDATE_SCREENSHOT:{const{payload:{blockId:o,data:n}}=t;return(0,f.Uy)(e,(e=>{e[o]=n}))}case"MAKE_POPUP_TO_GLOBAL_POPUP":case"MAKE_BLOCK_TO_GLOBAL_BLOCK":{const{data:{value:{_id:o}},meta:n}=t.payload.block,r=(e=>{if(void 0!==e._thumbnailSrc&&void 0!==e._thumbnailWidth&&void 0!==e._thumbnailHeight&&void 0!==e._thumbnailTime)return{_thumbnailSrc:e._thumbnailSrc,_thumbnailWidth:e._thumbnailWidth,_thumbnailHeight:e._thumbnailHeight,_thumbnailTime:e._thumbnailTime}})(n);return r?(0,f.Uy)(e,(e=>{e[o]=r,e._published[o]=r})):e}default:return e}}},function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;const o={};return Object.entries(v).reduce(((o,n)=>{let[r,a]=n;return o[r]=a(e[r],t,e),o}),o),Object.entries(A).reduce(((o,n)=>{let[r,a]=n;return o[r]=a(e[r],t,e,o),o}),o),o}),{keysToTrack:["blocksOrder","blocksData","currentStyleId","currentStyle","extraFontStyles","storeWasChanged","extraStyles"],onBeforeUpdate:(e,t,o)=>{if(t.type===l.K||t.type===a.MF.REMOVE_BLOCK||t.type===a.MF.REMOVE_BLOCKS){const n=(0,i._E)(e),r=(0,i.AV)(e);(t.type===a.MF.REMOVE_BLOCKS?n:[t.payload.id]).forEach((e=>{if(n.includes(e)&&r[e]){const t=o.getSnapshots();o.replaceSnapshots(t.map((t=>(t?.blocksOrder&&(t.blocksOrder=t.blocksOrder.filter((t=>t!==e))),t))))}}))}}});var v,A;let M;function B(){let{middleware:e=[]}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{middleware:[]};if(M)throw new Error("store is already created");return M=(0,r.MT)(L,(0,r.qC)(n.reduxBatch,(0,r.md)(...e))),M}function C(){if(!M)throw new Error("store is not yet created");return M}},67819:(e,t,o)=>{var n;o.d(t,{w:()=>n}),function(e){e.pending="pending",e.changed="changed",e.unchanged="unchanged"}(n||(n={}))},68812:(e,t,o)=>{o.d(t,{CG:()=>i,In:()=>l,bU:()=>n,zn:()=>s});var n,r=o(11016),a=o(81629);!function(e){e[e.include=1]="include",e[e.exclude=2]="exclude"}(n||(n={}));const i=e=>(0,a.P)(r.ZP.getAll());var l,s;!function(e){e.Widescreen="widescreen",e.Desktop="desktop",e.Laptop="laptop",e.TabletHorizontal="tabletHorizontal",e.Tablet="tablet",e.MobileHorizontal="mobileHorizontal",e.Mobile="mobile"}(l||(l={})),function(e){e.PageLoad="pageLoad",e.Scrolling="scrolling",e.Click="click",e.Inactivity="inactivity",e.ExitIntent="exitIntent",e.Showing="showing",e.Referrer="referrer",e.Devices="devices",e.CurrentUrl="currentUrl",e.CurrentDate="currentDate",e.LastVisitDate="lastVisitDate",e.TimeFrom="timeFrom",e.Cookie="cookie",e.OS="os",e.OtherPopups="otherPopups",e.SpecificPopup="specificPopup",e.LoggedIn="LoggedIn"}(s||(s={}))},61413:(e,t,o)=>{o.d(t,{E5:()=>c,GU:()=>s,Gn:()=>d,HF:()=>r,c$:()=>i,eY:()=>n,xd:()=>a,yn:()=>l});const n=e=>{if("string"!=typeof e||!e.startsWith("author|"))return!1;const[,t]=e.split("|");return""===t},r=e=>{if("string"!=typeof e)return!1;if(!e.startsWith("author|"))return!1;const[,t]=e.split("|");return""!==t},a=e=>{if("string"!=typeof e)return!1;if(!e.startsWith("in|"))return!1;const[,t,o]=e.split("|");return""!==t&&void 0===o},i=e=>{if("string"!=typeof e)return!1;if(!e.startsWith("in|"))return!1;const[,t,o]=e.split("|");return""!==t&&void 0!==o},l=e=>{if("string"!=typeof e)return!1;if(!e.startsWith("child|"))return!1;const[,t,o]=e.split("|");return""!==t&&void 0===o},s=e=>{if("string"!=typeof e)return!1;if(!e.startsWith("child|"))return!1;const[,t,o]=e.split("|");return""!==t&&void 0!==o},d=e=>"normal"===e.meta.type,c=e=>"popup"===e.meta.type}},a={};function i(e){var t=a[e];if(void 0!==t)return t.exports;var o=a[e]={exports:{}};return r[e].call(o.exports,o,o.exports,i),o.exports}i.m=r,i.x=()=>{var e=i.O(void 0,[373,44],(()=>i(81080)));return i.O(e)},e=[],i.O=(t,o,n,r)=>{if(!o){var a=1/0;for(c=0;c<e.length;c++){for(var[o,n,r]=e[c],l=!0,s=0;s<o.length;s++)(!1&r||a>=r)&&Object.keys(i.O).every((e=>i.O[e](o[s])))?o.splice(s--,1):(l=!1,r<a&&(a=r));if(l){e.splice(c--,1);var d=n();void 0!==d&&(t=d)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[o,n,r]},i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},o=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,i.t=function(e,n){if(1&n&&(e=this(e)),8&n)return e;if("object"==typeof e&&e){if(4&n&&e.__esModule)return e;if(16&n&&"function"==typeof e.then)return e}var r=Object.create(null);i.r(r);var a={};t=t||[null,o({}),o([]),o(o)];for(var l=2&n&&e;"object"==typeof l&&!~t.indexOf(l);l=o(l))Object.getOwnPropertyNames(l).forEach((t=>a[t]=()=>e[t]));return a.default=()=>e,i.d(r,a),r},i.d=(e,t)=>{for(var o in t)i.o(t,o)&&!i.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce(((t,o)=>(i.f[o](e,t),t)),[])),i.u=e=>338===e?"compiler.json.vendor.85c3ebbacf9187bd45ee.js":240===e?"compiler.ui.vendor.13313b416f057f5ff370.js":244===e?"compiler.utils.vendor.e5a5e5467dc88edfd5da.js":44===e?"compiler.utils.vendor.e6f45e82be4e35ee16c5.js":373===e?"373.min.js":e+"."+{258:"c2616776bbbb4f8e567f",417:"c143660ece733964b3a8",463:"ed35127dc2491ef6c5a4",716:"03b1e1f4e41407688141",913:"0a770308d6c98ac79e57",955:"6370c684f2d33b04ab49"}[e]+".min.js",i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;i.g.importScripts&&(e=i.g.location+"");var t=i.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var o=t.getElementsByTagName("script");if(o.length)for(var n=o.length-1;n>-1&&!e;)e=o[n--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=e})(),(()=>{var e={79:1};i.f.i=(t,o)=>{e[t]||importScripts(i.p+i.u(t))};var t=self.webpackChunk_brizy_builder=self.webpackChunk_brizy_builder||[],o=t.push.bind(t);t.push=t=>{var[n,r,a]=t;for(var l in r)i.o(r,l)&&(i.m[l]=r[l]);for(a&&a(i);n.length;)e[n.pop()]=1;o(t)}})(),n=i.x,i.x=()=>Promise.all([i.e(373),i.e(44)]).then(n),i.x()})();